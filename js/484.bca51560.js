"use strict";(self["webpackChunkScript"]=self["webpackChunkScript"]||[]).push([[484],{8484:function(e,t,a){a.r(t),a.d(t,{default:function(){return he}});var i=a(3396),s=a(7139),o=a(781);const n={class:"owner_view"},r={class:"owner_box"},l={class:"owner_center_box"},d={class:"owner_refresh"},c=(0,i._)("p",null,"Refresh",-1),m=(0,i._)("img",{src:o,alt:""},null,-1),u={class:"list_item_top"},w={class:"item_top_title"},p=["src"],_={class:"item_top_text"},f=(0,i._)("div",{class:"list_bottom_line"},null,-1),g={class:"list_item_bottom"},k={class:"item_bottom_title",style:{"font-size":"15px"}},b={class:"item_bottom_btn"},h={class:"list_item_scroll"},v={class:"item_top_json"},y=(0,i._)("div",{class:"list_bottom_line"},null,-1),x={class:"list_item_bottom"},S={class:"item_bottom_btn"},C={style:{"font-size":"15px"}},z={style:{"font-size":"15px"}},W={class:"item_bottom_text",style:{"font-size":"15px"}},O={class:"list_item_scroll"},D=(0,i._)("span",null,"Stake #OORT Earn $OORT",-1),L={class:"stakes_row flex_row_space_between",style:{"margin-top":"20px"}},U=(0,i._)("p",null,"Total Reward",-1),E={class:"stakes_row flex_row_space_between"},T=(0,i._)("p",null,"Total Stake",-1),M={class:"stakes_row flex_row_space_between"},A=(0,i._)("p",null,"Your Stake",-1),P={style:{color:"#5AE86F"}},R={class:"stakes_row flex_row_space_between"},q=(0,i._)("p",null,"Your Earn",-1),F={style:{color:"#5AE86F"}},Z={class:"stakes_row flex_row_space_between"},I=(0,i._)("p",null,"Claimable",-1),V={style:{color:"#5AE86F"}},$={class:"stakes_row flex_row_space_between"},J=(0,i._)("p",null,"UnStake Date",-1),N={style:{color:"#ff0001"}},j=(0,i._)("div",{class:"list_bottom_line"},null,-1),H={class:"list_item_bottom"},Y={class:"item_bottom_btn"},B={class:"transfer_box"},G={class:"transfer_top_box"},K={class:"transfer_top_title"},Q=(0,i._)("div",{class:"list_bottom_line"},null,-1),X={class:"transfer_box_text"},ee={class:"transfer_box"},te={class:"transfer_top_box"},ae={class:"transfer_top_title"},ie=(0,i._)("div",{class:"list_bottom_line"},null,-1),se={class:"transfer_box_text"},oe={class:"transfer_box"},ne={class:"transfer_top_box"},re={class:"transfer_top_title"},le=(0,i._)("div",{class:"list_bottom_line"},null,-1),de={class:"transfer_box_text"},ce=(0,i._)("p",{style:{color:"#ff0001"}},"Unlocked after 7 days of staking",-1);function me(e,t,a,o,me,ue){const we=(0,i.up)("a-radio-button"),pe=(0,i.up)("a-radio-group"),_e=(0,i.up)("a-button"),fe=(0,i.up)("a-card"),ge=(0,i.up)("a-list-item"),ke=(0,i.up)("a-list"),be=(0,i.up)("a-input"),he=(0,i.up)("a-form-item"),ve=(0,i.up)("a-form"),ye=(0,i.up)("a-space"),xe=(0,i.up)("a-modal");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("div",r,[(0,i._)("div",l,[(0,i.Wm)(pe,{value:e.radioValue,"onUpdate:value":t[0]||(t[0]=t=>e.radioValue=t),size:e.isMobile?"middle":"large",onChange:e.onRefresh},{default:(0,i.w5)((()=>[(0,i.Wm)(we,{value:"tokens"},{default:(0,i.w5)((()=>[(0,i.Uk)("Scripts")])),_:1}),(0,i.Wm)(we,{value:"transfers"},{default:(0,i.w5)((()=>[(0,i.Uk)("Trasfers")])),_:1}),(0,i.Wm)(we,{value:"stakes"},{default:(0,i.w5)((()=>[(0,i.Uk)("Stakes")])),_:1})])),_:1},8,["value","size","onChange"]),(0,i._)("div",d,[c,(0,i.Wm)(_e,{type:"text",shape:"circle",size:"large",onClick:e.onRefresh},{default:(0,i.w5)((()=>[m])),_:1},8,["onClick"])])]),"tokens"===e.radioValue?((0,i.wg)(),(0,i.j4)(ke,{key:0,grid:{gutter:5,xs:1,sm:2,md:4,lg:4,xl:4,xxl:4},"data-source":e.data,style:{"margin-left":"-8px","margin-right":"-8px","margin-top":"20px"}},{renderItem:(0,i.w5)((({item:a})=>[(0,i.Wm)(ge,{style:{padding:"0 8px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(fe,{style:{overflow:"hidden","background-color":"#141C17","border-color":"#1F4E24"}},{cover:(0,i.w5)((()=>[(0,i._)("div",u,[(0,i._)("p",w,[(0,i._)("img",{style:{width:"35px",height:"35px","margin-right":"10px","border-radius":"17.5px"},src:a.logo||"https://app.script.meme/coin.png",onError:t[1]||(t[1]=e=>{e.target.src="https://app.script.meme/coin.png"})},null,40,p),(0,i.Uk)(" "+(0,s.zw)(a.name),1)]),(0,i._)("div",_,[(0,i._)("span",null,(0,s.zw)(a.quantity),1),(0,i._)("p",null,(0,s.zw)(a.mints+" mints"),1)])]),f,(0,i._)("div",g,[(0,i._)("p",k,(0,s.zw)("#"+a.id),1),(0,i._)("div",b,[(0,i.Wm)(_e,{style:{width:"110px","background-color":"rgb(16,26,20)"},shape:"round",size:"large",ghost:"",onClick:t=>e.showTransferModal(a)},{default:(0,i.w5)((()=>[(0,i.Uk)("Transfer")])),_:2},1032,["onClick"]),(0,i.Wm)(_e,{style:{width:"110px","background-color":"rgb(16,26,20)"},shape:"round",size:"large",ghost:"",onClick:t=>e.showListModal(a)},{default:(0,i.w5)((()=>[(0,i.Uk)("WrapToken")])),_:2},1032,["onClick"])])])])),_:2},1024)])),_:2},1024)])),_:1},8,["data-source"])):(0,i.kq)("",!0),"transfers"===e.radioValue?((0,i.wg)(),(0,i.j4)(ke,{key:1,grid:{gutter:5,xs:1,sm:2,md:4,lg:4,xl:4,xxl:4},"data-source":e.data1,style:{"margin-left":"-8px","margin-right":"-8px","margin-top":"20px"}},{renderItem:(0,i.w5)((({item:t})=>[(0,i.Wm)(ge,{style:{padding:"0 8px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(fe,{style:{overflow:"hidden","background-color":"#141C17","border-color":"#1F4E24"}},{cover:(0,i.w5)((()=>[(0,i._)("div",h,[(0,i.Uk)(" { "),(0,i._)("pre",v,'                        "p":"script",\n                        "op":"'+(0,s.zw)(t.op)+'",\n                        "tick":"'+(0,s.zw)(t.tick)+'",\n                        "amt":"'+(0,s.zw)(t.amt)+'"\n                  ',1),(0,i.Uk)(" } ")]),y,(0,i._)("div",x,[(0,i._)("div",S,[(0,i._)("p",C,(0,s.zw)("#"+t.id),1),(0,i._)("p",z,(0,s.zw)(t.to.substr(0,5)+"..."+t.to.substr(t.to.length-5)),1)]),(0,i._)("p",W,(0,s.zw)(e.formatter(t.date)),1)])])),_:2},1024)])),_:2},1024)])),_:1},8,["data-source"])):(0,i.kq)("",!0),"stakes"===e.radioValue?((0,i.wg)(),(0,i.j4)(ke,{key:2,grid:{gutter:5,xs:1,sm:2,md:3,lg:3,xl:3,xxl:3},"data-source":e.data2,style:{"margin-left":"-8px","margin-right":"-8px","margin-top":"20px"}},{renderItem:(0,i.w5)((({item:t})=>[(0,i.Wm)(ge,{style:{padding:"0 8px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(fe,{style:{overflow:"hidden","background-color":"#141C17","border-color":"#1F4E24"}},{cover:(0,i.w5)((()=>[(0,i._)("div",O,[D,(0,i._)("div",L,[U,(0,i._)("p",null,(0,s.zw)(e.divPow(t.totalReward))+" $OORT",1)]),(0,i._)("div",E,[T,(0,i._)("p",null,(0,s.zw)(t.totalStake)+" #OORT",1)]),(0,i._)("div",M,[A,(0,i._)("p",P,(0,s.zw)(t.amount)+" #OORT",1)]),(0,i._)("div",R,[q,(0,i._)("p",F,(0,s.zw)(e.divPow(t.claimed))+" $OORT",1)]),(0,i._)("div",Z,[I,(0,i._)("p",V,(0,s.zw)(e.divPow(t.claimable))+" $OORT",1)]),(0,i._)("div",$,[J,(0,i._)("p",N,(0,s.zw)(t.unlockTime>0?e.formatter(1e3*parseInt(t.unlockTime)):"~"),1)])]),j,(0,i._)("div",H,[(0,i._)("div",Y,[(0,i.Wm)(_e,{style:{width:"100px","background-color":"rgb(16,26,20)"},shape:"round",size:"large",ghost:"",onClick:a=>e.onStake(t)},{default:(0,i.w5)((()=>[(0,i.Uk)("Stake")])),_:2},1032,["onClick"]),(0,i.Wm)(_e,{style:{width:"100px","background-color":"rgb(16,26,20)"},shape:"round",size:"large",ghost:"",onClick:a=>e.onUnStake(t),loading:t.unStakeloading},{default:(0,i.w5)((()=>[(0,i.Uk)("UnStake")])),_:2},1032,["onClick","loading"]),(0,i.Wm)(_e,{style:{width:"100px","background-color":"rgb(16,26,20)"},shape:"round",size:"large",loading:t.loading,ghost:"",onClick:a=>e.onClaim(t)},{default:(0,i.w5)((()=>[(0,i.Uk)("Claim")])),_:2},1032,["loading","onClick"])])])])),_:2},1024)])),_:2},1024)])),_:1},8,["data-source"])):(0,i.kq)("",!0)]),(0,i.Wm)(xe,{centered:"",width:"600px",open:e.transferOpen,"onUpdate:open":t[4]||(t[4]=t=>e.transferOpen=t),title:"Transfer "+e.itemData.name},{footer:(0,i.w5)((()=>[(0,i.Wm)(ye,{size:e.isMobile?"middle":"large"},{default:(0,i.w5)((()=>[(0,i.Wm)(_e,{style:{width:"100px"},key:"back",block:"",size:e.isMobile?"middle":"large",onClick:e.handleTransferCancel},{default:(0,i.w5)((()=>[(0,i.Uk)("Cancel")])),_:1},8,["size","onClick"]),(0,i.Wm)(_e,{style:{width:"100px"},key:"submit",block:"",type:"primary",size:e.isMobile?"middle":"large",loading:e.transferLoading,onClick:e.onTransferSubmit},{default:(0,i.w5)((()=>[(0,i.Uk)("Transfer")])),_:1},8,["size","loading","onClick"])])),_:1},8,["size"])])),default:(0,i.w5)((()=>[(0,i._)("div",B,[(0,i._)("div",G,[(0,i._)("div",K,[(0,i._)("h4",null,(0,s.zw)(e.itemData.name),1),(0,i._)("h5",null,(0,s.zw)(e.itemData.quantity),1),(0,i._)("p",null,(0,s.zw)(e.itemData.mints+" mints"),1)]),Q,(0,i._)("div",X,[(0,i._)("p",null,(0,s.zw)("#"+e.itemData.id),1)])]),(0,i.Wm)(ve,{ref:"transferRef",model:e.transferState,autoComplete:"off",style:{width:"70%","padding-top":"30px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(he,{name:"amount",rules:[{required:!0,pattern:/^[0-9]*$/,message:"Please enter a number"}]},{default:(0,i.w5)((()=>[(0,i.Wm)(be,{value:e.transferState.amount,"onUpdate:value":t[2]||(t[2]=t=>e.transferState.amount=t),size:"large",placeholder:"Amount"},{suffix:(0,i.w5)((()=>[(0,i.Wm)(_e,{type:"text",size:"small",onClick:e.transferMax},{default:(0,i.w5)((()=>[(0,i.Uk)("All")])),_:1},8,["onClick"])])),_:1},8,["value"])])),_:1}),(0,i.Wm)(he,{name:"to",rules:[{required:!0,message:"Please enter an address",trigger:"change"}]},{default:(0,i.w5)((()=>[(0,i.Wm)(be,{value:e.transferState.to,"onUpdate:value":t[3]||(t[3]=t=>e.transferState.to=t),size:"large",placeholder:"To"},null,8,["value"])])),_:1})])),_:1},8,["model"])])])),_:1},8,["open","title"]),(0,i.Wm)(xe,{centered:"",width:"600px",open:e.listOpen,"onUpdate:open":t[6]||(t[6]=t=>e.listOpen=t),title:"Sell "+e.itemData.name},{footer:(0,i.w5)((()=>[(0,i.Wm)(ye,{size:e.isMobile?"middle":"large"},{default:(0,i.w5)((()=>[(0,i.Wm)(_e,{style:{width:"150px"},key:"back",block:"",size:e.isMobile?"middle":"large",onClick:e.handleListCancel},{default:(0,i.w5)((()=>[(0,i.Uk)("Cancel")])),_:1},8,["size","onClick"]),(0,i.Wm)(_e,{style:{width:"150px"},key:"submit",block:"",type:"primary",size:e.isMobile?"middle":"large",loading:e.listLoading,onClick:e.onListSubmit},{default:(0,i.w5)((()=>[(0,i.Uk)("Warp to token")])),_:1},8,["size","loading","onClick"])])),_:1},8,["size"])])),default:(0,i.w5)((()=>[(0,i._)("div",ee,[(0,i._)("div",te,[(0,i._)("div",ae,[(0,i._)("h4",null,(0,s.zw)(e.itemData.name),1),(0,i._)("h5",null,(0,s.zw)(e.itemData.quantity),1),(0,i._)("p",null,(0,s.zw)(e.itemData.mints+" mints"),1)]),ie,(0,i._)("div",se,[(0,i._)("p",null,(0,s.zw)("#"+e.itemData.id),1)])]),(0,i.Wm)(ve,{ref:"listRef",model:e.listState,autoComplete:"off",style:{width:"70%","padding-top":"30px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(he,{name:"amount",rules:[{required:!0,pattern:/^[0-9]*$/,message:"Please enter a number"}]},{default:(0,i.w5)((()=>[(0,i.Wm)(be,{value:e.listState.amount,"onUpdate:value":t[5]||(t[5]=t=>e.listState.amount=t),size:"large",placeholder:"Amount"},{suffix:(0,i.w5)((()=>[(0,i.Wm)(_e,{type:"text",size:"small",onClick:e.listMax},{default:(0,i.w5)((()=>[(0,i.Uk)("All")])),_:1},8,["onClick"])])),_:1},8,["value"])])),_:1})])),_:1},8,["model"])])])),_:1},8,["open","title"]),(0,i.Wm)(xe,{centered:"",width:"600px",open:e.stakeOpen,"onUpdate:open":t[8]||(t[8]=t=>e.stakeOpen=t),title:"Stake"},{footer:(0,i.w5)((()=>[(0,i.Wm)(ye,{size:e.isMobile?"middle":"large"},{default:(0,i.w5)((()=>[(0,i.Wm)(_e,{style:{width:"100px"},key:"back",block:"",size:e.isMobile?"middle":"large",onClick:e.handleStakeCancel},{default:(0,i.w5)((()=>[(0,i.Uk)("Cancel")])),_:1},8,["size","onClick"]),(0,i.Wm)(_e,{style:{width:"100px"},key:"submit",block:"",type:"primary",size:e.isMobile?"middle":"large",loading:e.stakeLoading,onClick:e.onStakeSubmit},{default:(0,i.w5)((()=>[(0,i.Uk)("Stake")])),_:1},8,["size","loading","onClick"])])),_:1},8,["size"])])),default:(0,i.w5)((()=>[(0,i._)("div",oe,[(0,i._)("div",ne,[(0,i._)("div",re,[(0,i._)("h4",null,(0,s.zw)(e.itemData.name),1),(0,i._)("h5",null,(0,s.zw)(e.itemData.quantity),1),(0,i._)("p",null,(0,s.zw)(e.itemData.mints+" mints"),1)]),le,(0,i._)("div",de,[(0,i._)("p",null,(0,s.zw)("#"+e.itemData.id),1)])]),(0,i.Wm)(ve,{ref:"stakeRef",model:e.stakeState,autoComplete:"off",style:{width:"70%","padding-top":"30px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(he,{name:"amount",rules:[{required:!0,pattern:/^[0-9]*$/,message:"Please enter a number"}]},{default:(0,i.w5)((()=>[(0,i.Wm)(be,{value:e.stakeState.amount,"onUpdate:value":t[7]||(t[7]=t=>e.stakeState.amount=t),size:"large",placeholder:"Amount"},{suffix:(0,i.w5)((()=>[(0,i.Wm)(_e,{type:"text",size:"small",onClick:e.stakeMax},{default:(0,i.w5)((()=>[(0,i.Uk)("All")])),_:1},8,["onClick"])])),_:1},8,["value"])])),_:1}),ce])),_:1},8,["model"])])])),_:1},8,["open"])])}var ue=a(4870),we=a(9694),pe=a(65),_e=a(4476),fe=a(2367),ge=(0,i.aZ)({name:"Owner",setup(){const e=(0,ue.iH)(),t=(0,ue.iH)(),a=(0,ue.iH)(),s=(0,pe.oR)();(0,i.YP)((()=>s.state.wallet_address),((e,t)=>{n.loadData()}));const o=(0,ue.qj)({isMobile:(0,i.Fl)((()=>s.state.isMobile)),radioValue:"tokens",data:[],data1:[],data2:[],page:1,itemData:{},transferOpen:!1,transferState:{amount:"",to:""},transferLoading:!1,listOpen:!1,listState:{price:"",amount:""},floorPrice:"",selectValue:"1",listLoading:!1,stakeOpen:!1,stakeLoading:!1,stakeState:{amount:""}});(0,i.bv)((()=>{n.loadData()}));const n={async loadData(){if(o.page=1,o.tableLoading=!0,"tokens"==o.radioValue)(0,we.as)(s.state.wallet_address).then((e=>{o.tableLoading=!1,0==e.code?o.data=e.data:(o.tableLoading=!1,_e.Z["error"]({message:"Error",description:e.msg}))}));else if("transfers"==o.radioValue)(0,we.mB)("","0",o.page,s.state.wallet_address).then((e=>{o.tableLoading=!1,0==e.code?o.data1=e.data.list:(o.tableLoading=!1,_e.Z["error"]({message:"Error",description:e.msg}))}));else try{if(s.state.feeContract){const e=s.state.wallet_address,t=await s.state.feeContract.methods.getInfo(e).call(),a=t[1],i=t[0],n=t[2],r=t[3],l=t[4],d=t[5],c=t[6];o.data2=[{totalStake:i,totalReward:a,claimed:r,claimable:l,unlockTime:d,amount:n,canUnlock:c,unStakeloading:!1}]}}catch(e){}},async onStakeSubmit(){a.value.validate().then((async()=>{try{if(!s.state.web3)return void s.dispatch("showWalletModal",!0);const e=s.state.wallet_address;if(!fe.Z.gt(o.stakeState.amount.trim(),"0"))return void window.notification["error"]({message:"Error",description:"Amount must be greater than 0"});if(fe.Z.gt(o.stakeState.amount.trim(),o.itemData.quantity))return void window.notification["error"]({message:"Error",description:"Insufficient balance."});if(o.stakeLoading=!0,"Ale"==s.state.wallet_type){const e=s.state.web3.eth.abi.encodeFunctionCall({name:"deposit",type:"function",inputs:[{type:"uint256",name:"amount"}]},[parseInt(o.stakeState.amount.trim())]),t=await window.aleereum.send({action:"send_block",from:s.state.wallet_address,to:s.state.feeAddress,amount:"0",data:e,gas_price:"100000000000",gasPrice:await(0,we.k3)(),gen_next_work:""});t?(window.notification["success"]({message:"Success",description:""}),o.stakeLoading=!1,n.handleStakeCancel(),n.loadData()):(window.notification["error"]({message:"Error",description:""}),o.stakeLoading=!1)}else await s.state.feeContract.methods.deposit(parseInt(o.stakeState.amount.trim())).send({from:e,gasPrice:await(0,we.k3)()}),o.stakeLoading=!1,n.handleStakeCancel(),n.loadData()}catch(e){o.stakeLoading=!1,window.notification["error"]({message:"Error",description:JSON.stringify(e)})}}))},async onClaim(e){try{if(!s.state.web3)return void s.dispatch("showWalletModal",!0);const t=s.state.wallet_address;if(e.loading=!0,"Ale"==s.state.wallet_type){const t=s.state.web3.eth.abi.encodeFunctionCall({name:"claimReward",type:"function",inputs:[]},[]),a=await window.aleereum.send({action:"send_block",from:s.state.wallet_address,to:s.state.feeAddress,amount:"0",data:t,gas_price:"100000000000",gasPrice:await(0,we.k3)(),gen_next_work:""});a?(window.notification["success"]({message:"Success",description:""}),e.loading=!1,n.loadData()):(window.notification["error"]({message:"Error",description:""}),e.loading=!1)}else await s.state.feeContract.methods.claimReward().send({from:t,gasPrice:await(0,we.k3)()}),window.notification["success"]({message:"Success",description:""}),e.loading=!1,n.loadData()}catch(t){e.loading=!1,window.notification["error"]({message:"Error",description:JSON.stringify(t)})}},async onUnStake(e){try{if(!s.state.web3)return void s.dispatch("showWalletModal",!0);const t=s.state.wallet_address;e.unStakeloading=!0;const a=await s.state.feeContract.methods.getInfo(t).call(),i=a[2],o=a[6];if(!o)return e.unStakeloading=!1,void window.notification["error"]({message:"Error",description:"It’s not time to unlock yet"});if("Ale"==s.state.wallet_type){const t=s.state.web3.eth.abi.encodeFunctionCall({name:"withdraw",type:"function",inputs:[{type:"uint256",name:"amount"}]},[i]),a=await window.aleereum.send({action:"send_block",from:s.state.wallet_address,to:s.state.feeAddress,amount:"0",data:t,gas_price:"100000000000",gasPrice:await(0,we.k3)(),gen_next_work:""});a?(window.notification["success"]({message:"Success",description:""}),e.unStakeloading=!1,n.loadData()):(window.notification["error"]({message:"Error",description:""}),e.unStakeloading=!1)}else await s.state.feeContract.methods.withdraw(i).send({from:t,gasPrice:await(0,we.k3)()}),window.notification["success"]({message:"Success",description:""}),e.unStakeloading=!1,n.loadData()}catch(t){e.unStakeloading=!1,window.notification["error"]({message:"Error",description:JSON.stringify(t)})}},async onStake(e){s.state.web3?(o.stakeOpen=!0,(0,we.Gb)("OORT",s.state.wallet_address).then((e=>{0==e.code&&(o.itemData=e.data)}))):s.dispatch("showWalletModal",!0)},formatter(e){return fe.Z.formatter(e)},divPow(e){return fe.Z.divPow(e,18,4)},onRefresh(){n.loadData()},showTransferModal(e){o.itemData=e,o.transferOpen=!0},transferMax(){o.transferState.amount=""+o.itemData.quantity},stakeMax(){o.stakeState.amount=""+o.itemData.quantity},listMax(){o.listState.amount=""+o.itemData.quantity},fillFloor(){o.listState.price=o.floorPrice},handleTransferCancel(){o.itemData={},o.transferOpen=!1,e.value.resetFields()},handleStakeCancel(){o.itemData={},o.stakeOpen=!1,a.value.resetFields()},onTransferSubmit(){e.value.validate().then((async()=>{if(!s.state.web3)return void s.dispatch("showWalletModal",!0);if(!fe.Z.gt(o.transferState.amount.trim(),"0"))return void window.notification["error"]({message:"Error",description:"Amount must be greater than 0"});if(fe.Z.gt(o.transferState.amount.trim(),o.itemData.quantity))return void window.notification["error"]({message:"Error",description:"Insufficient balance."});if(!s.state.web3.utils.isAddress(o.transferState.to.trim()))return void window.notification["error"]({message:"Error",description:"Address error."});o.transferLoading=!0;let t=fe.Z.stringToHex('{"p":"script","op":"transfer","tick":"'+o.itemData.name.trim()+'","amt":"'+o.transferState.amount.trim()+'","to":"'+o.transferState.to.trim()+'"}');if("Ale"==s.state.wallet_type){const a=await window.aleereum.send({action:"send_block",from:s.state.wallet_address,to:s.state.toAddress,amount:"0",data:t,gas_price:"100000000000",gasPrice:await(0,we.k3)(),gen_next_work:""});a?(window.notification["success"]({message:"Success",description:""}),o.transferOpen=!1,o.transferLoading=!1,e.value.resetFields()):(o.transferLoading=!1,window.notification["error"]({message:"Error",description:""}))}else s.state.provider.request({method:"eth_sendTransaction",params:[{from:s.state.wallet_address,to:s.state.toAddress,data:t,gasPrice:await(0,we.k3)()}]}).then((t=>{window.notification["success"]({message:"Success",description:""}),o.transferOpen=!1,o.transferLoading=!1,e.value.resetFields()})).catch((e=>{o.transferLoading=!1,window.notification["error"]({message:"Error",description:JSON.stringify(e)})}))})).catch((e=>{o.transferLoading=!1,window.notification["error"]({message:"Error",description:JSON.stringify(e)})}))},async showListModal(e){let t=await(0,we.LP)(e.name.trim());0!=t.code||""!=t.data.token&&t.data.token?(o.itemData=e,o.listOpen=!0,(0,we.gv)(e.name).then((e=>{0==e.code&&(o.floorPrice=fe.Z.divPow(e.data,18,4))}))):window.notification["error"]({message:"Error",description:"The deployer has not enabled warp"})},handleChange(e){console.log(`selected ${e}`)},handleListCancel(){o.itemData={},o.listOpen=!1,o.listLoading=!1,t.value.resetFields()},async onListSubmit(){t.value.validate().then((async()=>{if(!s.state.web3)return void s.dispatch("showWalletModal",!0);if(o.listLoading=!0,!fe.Z.gt(o.listState.amount.trim(),"0"))return o.listLoading=!1,void window.notification["error"]({message:"Error",description:"Amount must be greater than 0"});let e=await s.state.readContract.methods.balanceOf(o.itemData.name.trim(),s.state.wallet_address).call();if(fe.Z.gt(o.listState.amount.trim(),e))return o.listLoading=!1,void window.notification["error"]({message:"Error",description:"Insufficient balance"});let a=fe.Z.stringToHex('{"p":"script","op":"wrapout","tick":"'+o.itemData.name.trim()+'","amt":"'+o.listState.amount.trim()+'"}');if("Ale"==s.state.wallet_type){const e=await window.aleereum.send({action:"send_block",from:s.state.wallet_address,to:s.state.toAddress,amount:"0",data:a,gas_price:"100000000000",gasPrice:await(0,we.k3)(),gen_next_work:""});e?(window.notification["success"]({message:"Success",description:""}),o.listOpen=!1,o.listLoading=!1,t.value.resetFields()):(o.listLoading=!1,window.notification["error"]({message:"Error",description:""}))}else s.state.provider.request({method:"eth_sendTransaction",params:[{from:s.state.wallet_address,to:s.state.toAddress,data:a,gasPrice:await(0,we.k3)()}]}).then((e=>{window.notification["success"]({message:"Success",description:""}),o.listOpen=!1,o.listLoading=!1,t.value.resetFields()})).catch((e=>{o.listLoading=!1,window.notification["error"]({message:"Error",description:""+JSON.stringify(e)})}))})).catch((e=>{o.listLoading=!1,window.notification["error"]({message:"Error",description:""+JSON.stringify(e)})}))}};return{transferRef:e,listRef:t,stakeRef:a,...(0,ue.BK)(o),...n}}}),ke=a(89);const be=(0,ke.Z)(ge,[["render",me]]);var he=be},781:function(e,t,a){e.exports=a.p+"img/result.72dbc80c.svg"}}]);