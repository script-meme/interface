"use strict";(self["webpackChunkScript"]=self["webpackChunkScript"]||[]).push([[410],{3334:function(e,t,a){a.r(t),a.d(t,{default:function(){return q}});var o=a(3396),l=a(7139),i=a.p+"img/right_outlined.748db79d.svg";const n={class:"token_box"},r={class:"center_box"},s=(0,o._)("p",{class:"token_title large_text"},"Check out token balance",-1),d={class:"token_input"},c=(0,o._)("p",{class:"token_text small_text"},"Recognize all operations, deploy mint transfer.",-1),p={class:"card_box"},m=(0,o._)("div",{class:"card_top"},[(0,o._)("p",{class:"middle_text"},"The full list of tokens ")],-1),u={class:"card_segmented"},g={key:0,class:"list_item_boxA"},h={key:1,class:"list_item_boxB"},w={key:2,class:"list_item_boxB"},k={key:3,class:"list_item_boxC"},f=(0,o._)("img",{style:{width:"20px",height:"20px"},src:i,alt:""},null,-1),y={class:"form_box_top"},_=(0,o._)("p",null,"Protocol",-1),v={class:"ant-form-text"};function x(e,t,a,i,x,b){const S=(0,o.up)("a-input-search"),C=(0,o.up)("a-segmented"),T=(0,o.up)("a-button"),W=(0,o.up)("a-progress"),M=(0,o.up)("a-table"),z=(0,o.up)("a-input"),I=(0,o.up)("a-form-item"),q=(0,o.up)("a-form"),D=(0,o.up)("a-modal");return(0,o.wg)(),(0,o.iD)("div",n,[(0,o._)("div",r,[s,(0,o._)("div",d,[(0,o.Wm)(S,{value:e.maxSearchValue,"onUpdate:value":t[0]||(t[0]=t=>e.maxSearchValue=t),placeholder:"",style:{width:"640px"},size:"large",allowClear:"",onSearch:e.onMaxSearch},null,8,["value","onSearch"])]),c,(0,o._)("div",p,[m,(0,o._)("div",u,[(0,o.Wm)(C,{value:e.type,"onUpdate:value":t[1]||(t[1]=t=>e.type=t),options:e.options,onChange:e.onSegmented,size:"large"},null,8,["value","options","onChange"]),(0,o.Wm)(T,{class:"middle_round_btn",type:"primary",shape:"round",onClick:e.showModal},{default:(0,o.w5)((()=>[(0,o.Uk)("Deploy")])),_:1},8,["onClick"])]),(0,o.Wm)(M,{style:{width:"1078px","overflow-x":"auto"},columns:e.columns,"data-source":e.data,customRow:e.handleClickRow,loading:e.tableLoading,pagination:e.pagination,onChange:e.handleTableChange,"row-class-name":"table-striped"},{bodyCell:(0,o.w5)((({column:t,text:a})=>["name"===t.dataIndex?((0,o.wg)(),(0,o.iD)("div",g,[(0,o._)("p",null,(0,l.zw)(a),1)])):(0,o.kq)("",!0),"time"===t.dataIndex?((0,o.wg)(),(0,o.iD)("div",h,[(0,o._)("p",null,(0,l.zw)(e.dayjs(a).format("YYYY-MM-DD HH:mm:ss")),1)])):(0,o.kq)("",!0),"progress"===t.dataIndex?((0,o.wg)(),(0,o.iD)("div",w,[(0,o._)("p",null,(0,l.zw)(a+"%"),1),(0,o.Wm)(W,{style:{width:"210px"},strokeColor:"#5AE86F",status:"active",percent:a,"show-info":!1},null,8,["percent"])])):(0,o.kq)("",!0),"transactions"===t.dataIndex?((0,o.wg)(),(0,o.iD)("div",k,[(0,o._)("p",null,(0,l.zw)(a),1),f])):(0,o.kq)("",!0)])),_:1},8,["columns","data-source","customRow","loading","pagination","onChange"])])]),(0,o.Wm)(D,{centered:"",width:"600px",open:e.open,"onUpdate:open":t[5]||(t[5]=t=>e.open=t),title:"Deploy"},{footer:(0,o.w5)((()=>[(0,o.Wm)(T,{style:{"margin-right":"8px"},key:"back",size:"large",onClick:e.handleCancel},{default:(0,o.w5)((()=>[(0,o.Uk)("Cancel")])),_:1},8,["onClick"]),(0,o.Wm)(T,{key:"submit",type:"primary",size:"large",loading:e.loading,onClick:e.onSubmit},{default:(0,o.w5)((()=>[(0,o.Uk)("Deploy")])),_:1},8,["loading","onClick"])])),default:(0,o.w5)((()=>[(0,o.Wm)(q,{class:"form_box",ref:"formRef",model:e.formState,rules:e.rules,"label-col":{style:{width:"150px"}},labelAlign:"left"},{default:(0,o.w5)((()=>[(0,o._)("div",y,[_,(0,o._)("span",v,(0,l.zw)(e.formState.protocol),1)]),(0,o.Wm)(I,{label:"Tick",name:"tick"},{default:(0,o.w5)((()=>[(0,o.Wm)(z,{type:"text",value:e.formState.tick,"onUpdate:value":t[2]||(t[2]=t=>e.formState.tick=t),size:"large",placeholder:"Identifier of the token, like ORDI"},null,8,["value"])])),_:1}),(0,o.Wm)(I,{label:"Total Supply",name:"totalSupply"},{default:(0,o.w5)((()=>[(0,o.Wm)(z,{value:e.formState.totalSupply,"onUpdate:value":t[3]||(t[3]=t=>e.formState.totalSupply=t),size:"large",placeholder:"21000000"},null,8,["value"])])),_:1}),(0,o.Wm)(I,{label:"Limit Per Mint",name:"limitPerMint"},{default:(0,o.w5)((()=>[(0,o.Wm)(z,{value:e.formState.limitPerMint,"onUpdate:value":t[4]||(t[4]=t=>e.formState.limitPerMint=t),size:"large",placeholder:"1000"},null,8,["value"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["open"])])}a(560);var b=a(4870),S=a(2483),C=a(4476),T=a(9694),W=a(65),M=(0,o.aZ)({name:"Tokens",setup(){const e=(0,S.tv)(),t=(0,b.iH)(),l=(0,W.oR)(),i=a(5743),n=(0,b.qj)({protocol:"script",tick:"",totalSupply:"",limitPerMint:"",mintFee:""}),r={protocol:[{required:!0}],tick:[{required:!0,message:"Please enter a maximum of 4 characters",max:4,min:4,trigger:"change"}],totalSupply:[{required:!0,message:"Please enter a positive integer",trigger:"change"}],limitPerMint:[{required:!0,message:"Please enter a positive integer",trigger:"change"}]},s=(0,b.qj)({maxSearchValue:"",minSearchValue:"",type:"All",options:["All","In-progress","Completed"],tableLoading:!0,page:1,columns:[{title:"Token",dataIndex:"name",key:"name",width:212,ellipsis:!0},{title:"Deploy Time",dataIndex:"time",key:"time",width:262},{title:"Progress",dataIndex:"progress",key:"progress",width:262},{title:"Holders",dataIndex:"holders",key:"holders",width:162},{title:"Transactions",dataIndex:"transactions",key:"transactions",width:162}],data:[],loading:!1,open:!1});(0,o.bv)((()=>{d.loadTokens()}));const d={loadTokens(){s.page=1,s.tableLoading=!0;var e=0;"In-progress"==s.type&&(e=1),"Completed"==s.type&&(e=2),(0,T.lz)(e,s.page).then((e=>{s.tableLoading=!1,0==e.code?s.data=e.data.list:(s.tableLoading=!1,C.Z["error"]({message:"Error",description:e.msg}))}))},onMaxSearch(){s.maxSearchValue&&e.push({path:"Search",query:{address:s.maxSearchValue}})},showModal(){s.open=!0},onSegmented(e){s.page=0,d.loadTokens()},onMinSearch(){},handleTableChange(){},handleClickRow(t,a){return{onClick:a=>{e.push({path:"Info",query:{tick:t.name}})}}},onSubmit(){t.value.validate().then((async()=>{if(4!=n.tick.length)return void window.notification["error"]({message:"Error",description:"Tick maximum of 4 characters"});var e=/^[\d]+$/;if(!e.test(n.totalSupply.trim()))return void window.notification["error"]({message:"Error",description:"TotalSupply only numbers can be entered"});if(!e.test(n.limitPerMint.trim()))return void window.notification["error"]({message:"Error",description:"Limit only numbers can be entered"});if(!l.state.web3)return l.dispatch("connectWallet"),void window.notification["error"]({message:"Error",description:"Connect your wallet"});let a=await l.state.contract.methods.checkTick(n.tick.toUpperCase().trim()).call();if(a)return void window.notification["error"]({message:"Error",description:"Tick name unavailable"});s.loading=!0;let o=(0,T.$G)('{"p":"'+n.protocol+'","op":"deploy","tick":"'+n.tick.toUpperCase().trim()+'","amt":"'+n.totalSupply+'","limit":"'+n.limitPerMint+'","mintAmt":"0"}');window.ethereum.request({method:"eth_sendTransaction",params:[{from:l.state.wallet_address,to:l.state.toAddress,data:o}]}).then((e=>{window.notification["success"]({message:"",description:"Deploy success"}),s.open=!1,t.value.resetFields()})).catch((e=>{s.loading=!1}))})).catch((e=>{window.notification["error"]({message:"Error",description:e})}))},handleCancel(){s.open=!1,t.value.resetFields()}};return{formRef:t,formState:n,...(0,b.BK)(s),...d,rules:r,dayjs:i}}}),z=a(89);const I=(0,z.Z)(M,[["render",x]]);var q=I}}]);
//# sourceMappingURL=410.7939d03b.js.map