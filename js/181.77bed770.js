"use strict";(self["webpackChunkScript"]=self["webpackChunkScript"]||[]).push([[181],{4181:function(t,e,a){a.r(e),a.d(e,{default:function(){return Ut}});var i=a(3396),s=a(7139),l=a(781);const o={class:"owner_view"},r={class:"owner_box"},n={class:"owner_center_box"},d={class:"owner_refresh"},c=(0,i._)("p",null,"Refresh",-1),m=(0,i._)("img",{src:l,alt:""},null,-1),u={class:"list_item_top"},p={class:"item_top_title"},_=["src"],f={class:"item_top_text"},w=(0,i._)("div",{class:"list_bottom_line"},null,-1),g={class:"list_item_bottom"},k={class:"item_bottom_title",style:{"font-size":"15px"}},b={class:"item_bottom_btn"},h={class:"list_item_scroll"},v={class:"item_top_json"},x=(0,i._)("div",{class:"list_bottom_line"},null,-1),y={class:"list_item_bottom"},S={class:"item_bottom_btn"},z={style:{"font-size":"15px"}},C={style:{"font-size":"15px"}},W={class:"item_bottom_text",style:{"font-size":"15px"}},O={class:"list_item_scroll"},D=(0,i._)("span",null,"Stake #OORT Earn $OORT",-1),U={class:"stakes_row flex_row_space_between",style:{"margin-top":"20px"}},T=(0,i._)("p",null,"Total Reward",-1),F={class:"stakes_row flex_row_space_between"},L=(0,i._)("p",null,"Total Stake",-1),M={class:"stakes_row flex_row_space_between"},R=(0,i._)("p",null,"Your Stake",-1),E={style:{color:"#5AE86F"}},P={class:"stakes_row flex_row_space_between"},q=(0,i._)("p",null,"Your Earn",-1),A={style:{color:"#5AE86F"}},Z={class:"stakes_row flex_row_space_between"},$=(0,i._)("p",null,"Claimable",-1),I={style:{color:"#5AE86F"}},V={class:"stakes_row flex_row_space_between"},J=(0,i._)("p",null,"UnStake Date",-1),N={style:{color:"#ff0001"}},j=(0,i._)("div",{class:"list_bottom_line"},null,-1),H={class:"list_item_bottom"},Y={class:"item_bottom_btn"},B={class:"transfer_box"},G={class:"transfer_top_box"},K={class:"transfer_top_title"},Q=(0,i._)("div",{class:"list_bottom_line"},null,-1),X={class:"transfer_box_text"},tt={class:"transfer_box"},et={class:"transfer_top_box"},at={class:"transfer_top_title"},it=(0,i._)("div",{class:"list_bottom_line"},null,-1),st={class:"transfer_box_text"},lt={class:"list_bottom_box"},ot={class:"list_bottom_item"},rt=(0,i._)("span",null,"Floor Price",-1),nt=(0,i._)("div",{class:"list_bottom_item"},[(0,i._)("span",null,"Service Fee"),(0,i._)("p",{style:{color:"#FFFFFF","font-size":"14px"}},(0,s.zw)("2%"))],-1),dt={class:"list_bottom_item"},ct=(0,i._)("span",null,"Total Amount",-1),mt={style:{color:"#5AE86F","font-size":"14px"}},ut={class:"list_bottom_item"},pt=(0,i._)("span",null,"Total Revenue",-1),_t={style:{color:"#5AE86F","font-size":"14px"}},ft={class:"transfer_box"},wt={class:"transfer_top_box"},gt={class:"transfer_top_title"},kt=(0,i._)("div",{class:"list_bottom_line"},null,-1),bt={class:"transfer_box_text"},ht=(0,i._)("p",{style:{color:"#ff0001"}},"Unlocked after 7 days of staking",-1);function vt(t,e,a,l,vt,xt){const yt=(0,i.up)("a-radio-button"),St=(0,i.up)("a-radio-group"),zt=(0,i.up)("a-button"),Ct=(0,i.up)("a-card"),Wt=(0,i.up)("a-list-item"),Ot=(0,i.up)("a-list"),Dt=(0,i.up)("a-input"),Ut=(0,i.up)("a-form-item"),Tt=(0,i.up)("a-form"),Ft=(0,i.up)("a-space"),Lt=(0,i.up)("a-modal");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",r,[(0,i._)("div",n,[(0,i.Wm)(St,{value:t.radioValue,"onUpdate:value":e[0]||(e[0]=e=>t.radioValue=e),size:t.isMobile?"middle":"large",onChange:t.onRefresh},{default:(0,i.w5)((()=>[(0,i.Wm)(yt,{value:"tokens"},{default:(0,i.w5)((()=>[(0,i.Uk)("Scripts")])),_:1}),(0,i.Wm)(yt,{value:"transfers"},{default:(0,i.w5)((()=>[(0,i.Uk)("Trasfers")])),_:1}),(0,i.Wm)(yt,{value:"stakes"},{default:(0,i.w5)((()=>[(0,i.Uk)("Stakes")])),_:1})])),_:1},8,["value","size","onChange"]),(0,i._)("div",d,[c,(0,i.Wm)(zt,{type:"text",shape:"circle",size:"large",onClick:t.onRefresh},{default:(0,i.w5)((()=>[m])),_:1},8,["onClick"])])]),"tokens"===t.radioValue?((0,i.wg)(),(0,i.j4)(Ot,{key:0,grid:{gutter:5,xs:1,sm:2,md:4,lg:4,xl:4,xxl:4},"data-source":t.data,style:{"margin-left":"-8px","margin-right":"-8px","margin-top":"20px"}},{renderItem:(0,i.w5)((({item:e})=>[(0,i.Wm)(Wt,{style:{padding:"0 8px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(Ct,{style:{overflow:"hidden","background-color":"#141C17","border-color":"#1F4E24"}},{cover:(0,i.w5)((()=>[(0,i._)("div",u,[(0,i._)("p",p,[(0,i._)("img",{style:{width:"35px",height:"35px","margin-right":"10px"},src:e&&e.logo&&""!=e.logo?e.logo:"https://app.script.meme/coin.png",alt:""},null,8,_),(0,i.Uk)(" "+(0,s.zw)(e.name),1)]),(0,i._)("div",f,[(0,i._)("span",null,(0,s.zw)(e.quantity),1),(0,i._)("p",null,(0,s.zw)(e.mints+" mints"),1)])]),w,(0,i._)("div",g,[(0,i._)("p",k,(0,s.zw)("#"+e.id),1),(0,i._)("div",b,[(0,i.Wm)(zt,{style:{width:"100px","background-color":"rgb(16,26,20)"},shape:"round",size:"large",ghost:"",onClick:a=>t.showTransferModal(e)},{default:(0,i.w5)((()=>[(0,i.Uk)("Transfer")])),_:2},1032,["onClick"]),(0,i.Wm)(zt,{style:{width:"100px","background-color":"rgb(16,26,20)"},shape:"round",size:"large",ghost:"",onClick:a=>t.showListModal(e)},{default:(0,i.w5)((()=>[(0,i.Uk)("Sell")])),_:2},1032,["onClick"])])])])),_:2},1024)])),_:2},1024)])),_:1},8,["data-source"])):(0,i.kq)("",!0),"transfers"===t.radioValue?((0,i.wg)(),(0,i.j4)(Ot,{key:1,grid:{gutter:5,xs:1,sm:2,md:4,lg:4,xl:4,xxl:4},"data-source":t.data1,style:{"margin-left":"-8px","margin-right":"-8px","margin-top":"20px"}},{renderItem:(0,i.w5)((({item:e})=>[(0,i.Wm)(Wt,{style:{padding:"0 8px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(Ct,{style:{overflow:"hidden","background-color":"#141C17","border-color":"#1F4E24"}},{cover:(0,i.w5)((()=>[(0,i._)("div",h,[(0,i.Uk)(" { "),(0,i._)("pre",v,'                        "p":"script",\n                        "op":"'+(0,s.zw)(e.op)+'",\n                        "tick":"'+(0,s.zw)(e.tick)+'",\n                        "amt":"'+(0,s.zw)(e.amt)+'"\n                  ',1),(0,i.Uk)(" } ")]),x,(0,i._)("div",y,[(0,i._)("div",S,[(0,i._)("p",z,(0,s.zw)("#"+e.id),1),(0,i._)("p",C,(0,s.zw)(e.to.substr(0,5)+"..."+e.to.substr(e.to.length-5)),1)]),(0,i._)("p",W,(0,s.zw)(t.formatter(e.date)),1)])])),_:2},1024)])),_:2},1024)])),_:1},8,["data-source"])):(0,i.kq)("",!0),"stakes"===t.radioValue?((0,i.wg)(),(0,i.j4)(Ot,{key:2,grid:{gutter:5,xs:1,sm:2,md:3,lg:3,xl:3,xxl:3},"data-source":t.data2,style:{"margin-left":"-8px","margin-right":"-8px","margin-top":"20px"}},{renderItem:(0,i.w5)((({item:e})=>[(0,i.Wm)(Wt,{style:{padding:"0 8px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(Ct,{style:{overflow:"hidden","background-color":"#141C17","border-color":"#1F4E24"}},{cover:(0,i.w5)((()=>[(0,i._)("div",O,[D,(0,i._)("div",U,[T,(0,i._)("p",null,(0,s.zw)(t.divPow(e.totalReward))+" $OORT",1)]),(0,i._)("div",F,[L,(0,i._)("p",null,(0,s.zw)(e.totalStake)+" #OORT",1)]),(0,i._)("div",M,[R,(0,i._)("p",E,(0,s.zw)(e.amount)+" #OORT",1)]),(0,i._)("div",P,[q,(0,i._)("p",A,(0,s.zw)(t.divPow(e.claimed))+" $OORT",1)]),(0,i._)("div",Z,[$,(0,i._)("p",I,(0,s.zw)(t.divPow(e.claimable))+" $OORT",1)]),(0,i._)("div",V,[J,(0,i._)("p",N,(0,s.zw)(e.unlockTime>0?t.formatter(1e3*parseInt(e.unlockTime)):"~"),1)])]),j,(0,i._)("div",H,[(0,i._)("div",Y,[(0,i.Wm)(zt,{style:{width:"100px","background-color":"rgb(16,26,20)"},shape:"round",size:"large",ghost:"",onClick:a=>t.onStake(e)},{default:(0,i.w5)((()=>[(0,i.Uk)("Stake")])),_:2},1032,["onClick"]),(0,i.Wm)(zt,{style:{width:"100px","background-color":"rgb(16,26,20)"},shape:"round",size:"large",ghost:"",onClick:a=>t.onUnStake(e),loading:e.unStakeloading},{default:(0,i.w5)((()=>[(0,i.Uk)("UnStake")])),_:2},1032,["onClick","loading"]),(0,i.Wm)(zt,{style:{width:"100px","background-color":"rgb(16,26,20)"},shape:"round",size:"large",loading:e.loading,ghost:"",onClick:a=>t.onClaim(e)},{default:(0,i.w5)((()=>[(0,i.Uk)("Claim")])),_:2},1032,["loading","onClick"])])])])),_:2},1024)])),_:2},1024)])),_:1},8,["data-source"])):(0,i.kq)("",!0)]),(0,i.Wm)(Lt,{centered:"",width:"600px",open:t.transferOpen,"onUpdate:open":e[3]||(e[3]=e=>t.transferOpen=e),title:"Transfer "+t.itemData.name},{footer:(0,i.w5)((()=>[(0,i.Wm)(Ft,{size:t.isMobile?"middle":"large"},{default:(0,i.w5)((()=>[(0,i.Wm)(zt,{style:{width:"100px"},key:"back",block:"",size:t.isMobile?"middle":"large",onClick:t.handleTransferCancel},{default:(0,i.w5)((()=>[(0,i.Uk)("Cancel")])),_:1},8,["size","onClick"]),(0,i.Wm)(zt,{style:{width:"100px"},key:"submit",block:"",type:"primary",size:t.isMobile?"middle":"large",loading:t.transferLoading,onClick:t.onTransferSubmit},{default:(0,i.w5)((()=>[(0,i.Uk)("Transfer")])),_:1},8,["size","loading","onClick"])])),_:1},8,["size"])])),default:(0,i.w5)((()=>[(0,i._)("div",B,[(0,i._)("div",G,[(0,i._)("div",K,[(0,i._)("h4",null,(0,s.zw)(t.itemData.name),1),(0,i._)("h5",null,(0,s.zw)(t.itemData.quantity),1),(0,i._)("p",null,(0,s.zw)(t.itemData.mints+" mints"),1)]),Q,(0,i._)("div",X,[(0,i._)("p",null,(0,s.zw)("#"+t.itemData.id),1)])]),(0,i.Wm)(Tt,{ref:"transferRef",model:t.transferState,autoComplete:"off",style:{width:"70%","padding-top":"30px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(Ut,{name:"amount",rules:[{required:!0,pattern:/^[0-9]*$/,message:"Please enter a number"}]},{default:(0,i.w5)((()=>[(0,i.Wm)(Dt,{value:t.transferState.amount,"onUpdate:value":e[1]||(e[1]=e=>t.transferState.amount=e),size:"large",placeholder:"Amount"},{suffix:(0,i.w5)((()=>[(0,i.Wm)(zt,{type:"text",size:"small",onClick:t.transferMax},{default:(0,i.w5)((()=>[(0,i.Uk)("All")])),_:1},8,["onClick"])])),_:1},8,["value"])])),_:1}),(0,i.Wm)(Ut,{name:"to",rules:[{required:!0,message:"Please enter an address",trigger:"change"}]},{default:(0,i.w5)((()=>[(0,i.Wm)(Dt,{value:t.transferState.to,"onUpdate:value":e[2]||(e[2]=e=>t.transferState.to=e),size:"large",placeholder:"To"},null,8,["value"])])),_:1})])),_:1},8,["model"])])])),_:1},8,["open","title"]),(0,i.Wm)(Lt,{centered:"",width:"600px",open:t.listOpen,"onUpdate:open":e[7]||(e[7]=e=>t.listOpen=e),title:"Sell "+t.itemData.name},{footer:(0,i.w5)((()=>[(0,i.Wm)(Ft,{size:t.isMobile?"middle":"large"},{default:(0,i.w5)((()=>[(0,i.Wm)(zt,{style:{width:"100px"},key:"back",block:"",size:t.isMobile?"middle":"large",onClick:t.handleListCancel},{default:(0,i.w5)((()=>[(0,i.Uk)("Cancel")])),_:1},8,["size","onClick"]),(0,i.Wm)(zt,{style:{width:"100px"},key:"submit",block:"",type:"primary",size:t.isMobile?"middle":"large",loading:t.listLoading,onClick:t.onListSubmit},{default:(0,i.w5)((()=>[(0,i.Uk)("Sell")])),_:1},8,["size","loading","onClick"])])),_:1},8,["size"])])),default:(0,i.w5)((()=>[(0,i._)("div",tt,[(0,i._)("div",et,[(0,i._)("div",at,[(0,i._)("h4",null,(0,s.zw)(t.itemData.name),1),(0,i._)("h5",null,(0,s.zw)(t.itemData.quantity),1),(0,i._)("p",null,(0,s.zw)(t.itemData.mints+" mints"),1)]),it,(0,i._)("div",st,[(0,i._)("p",null,(0,s.zw)("#"+t.itemData.id),1)])]),(0,i.Wm)(Tt,{ref:"listRef",model:t.listState,autoComplete:"off",style:{width:"70%","padding-top":"30px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(Ut,{name:"price",rules:[{required:!0,pattern:/^\d+(\.\d{1,})$|(^[0-9]\d*$)/,message:"Please enter a number or decimal"}]},{default:(0,i.w5)((()=>[(0,i.Wm)(Dt,{value:t.listState.price,"onUpdate:value":e[4]||(e[4]=e=>t.listState.price=e),size:"large",placeholder:"Price",suffix:"OORT"},null,8,["value"])])),_:1},8,["rules"]),(0,i.Wm)(Ut,{name:"amount",rules:[{required:!0,pattern:/^[0-9]*$/,message:"Please enter a number"}]},{default:(0,i.w5)((()=>[(0,i.Wm)(Dt,{value:t.listState.amount,"onUpdate:value":e[5]||(e[5]=e=>t.listState.amount=e),size:"large",placeholder:"Amount"},{suffix:(0,i.w5)((()=>[(0,i.Wm)(zt,{type:"text",size:"small",onClick:t.listMax},{default:(0,i.w5)((()=>[(0,i.Uk)("All")])),_:1},8,["onClick"])])),_:1},8,["value"])])),_:1})])),_:1},8,["model"]),(0,i._)("div",lt,[(0,i._)("div",ot,[rt,(0,i._)("a",{onClick:e[6]||(e[6]=(...e)=>t.fillFloor&&t.fillFloor(...e)),style:{color:"#FFFFFF","font-size":"14px"}},(0,s.zw)(t.floorPrice+" OORT"),1)]),nt,(0,i._)("div",dt,[ct,(0,i._)("p",mt,(0,s.zw)((t.listState.price*t.listState.amount).toFixed(5).replace(/(\.\d*?)0+$/,"$1")+" OORT"),1)]),(0,i._)("div",ut,[pt,(0,i._)("p",_t,(0,s.zw)((t.listState.price*t.listState.amount*.98).toFixed(5).replace(/(\.\d*?)0+$/,"$1")+" OORT"),1)])])])])),_:1},8,["open","title"]),(0,i.Wm)(Lt,{centered:"",width:"600px",open:t.stakeOpen,"onUpdate:open":e[9]||(e[9]=e=>t.stakeOpen=e),title:"Stake"},{footer:(0,i.w5)((()=>[(0,i.Wm)(Ft,{size:t.isMobile?"middle":"large"},{default:(0,i.w5)((()=>[(0,i.Wm)(zt,{style:{width:"100px"},key:"back",block:"",size:t.isMobile?"middle":"large",onClick:t.handleStakeCancel},{default:(0,i.w5)((()=>[(0,i.Uk)("Cancel")])),_:1},8,["size","onClick"]),(0,i.Wm)(zt,{style:{width:"100px"},key:"submit",block:"",type:"primary",size:t.isMobile?"middle":"large",loading:t.stakeLoading,onClick:t.onStakeSubmit},{default:(0,i.w5)((()=>[(0,i.Uk)("Stake")])),_:1},8,["size","loading","onClick"])])),_:1},8,["size"])])),default:(0,i.w5)((()=>[(0,i._)("div",ft,[(0,i._)("div",wt,[(0,i._)("div",gt,[(0,i._)("h4",null,(0,s.zw)(t.itemData.name),1),(0,i._)("h5",null,(0,s.zw)(t.itemData.quantity),1),(0,i._)("p",null,(0,s.zw)(t.itemData.mints+" mints"),1)]),kt,(0,i._)("div",bt,[(0,i._)("p",null,(0,s.zw)("#"+t.itemData.id),1)])]),(0,i.Wm)(Tt,{ref:"stakeRef",model:t.stakeState,autoComplete:"off",style:{width:"70%","padding-top":"30px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(Ut,{name:"amount",rules:[{required:!0,pattern:/^[0-9]*$/,message:"Please enter a number"}]},{default:(0,i.w5)((()=>[(0,i.Wm)(Dt,{value:t.stakeState.amount,"onUpdate:value":e[8]||(e[8]=e=>t.stakeState.amount=e),size:"large",placeholder:"Amount"},{suffix:(0,i.w5)((()=>[(0,i.Wm)(zt,{type:"text",size:"small",onClick:t.stakeMax},{default:(0,i.w5)((()=>[(0,i.Uk)("All")])),_:1},8,["onClick"])])),_:1},8,["value"])])),_:1}),ht])),_:1},8,["model"])])])),_:1},8,["open"])])}var xt=a(4870),yt=a(9694),St=a(65),zt=a(4476),Ct=a(2367),Wt=(0,i.aZ)({name:"Owner",setup(){const t=(0,xt.iH)(),e=(0,xt.iH)(),a=(0,xt.iH)(),s=(0,St.oR)();(0,i.YP)((()=>s.state.wallet_address),((t,e)=>{o.loadData()}));const l=(0,xt.qj)({isMobile:(0,i.Fl)((()=>s.state.isMobile)),radioValue:"tokens",data:[],data1:[],data2:[],page:1,itemData:{},transferOpen:!1,transferState:{amount:"",to:""},transferLoading:!1,listOpen:!1,listState:{price:"",amount:""},floorPrice:"",selectValue:"1",listLoading:!1,stakeOpen:!1,stakeLoading:!1,stakeState:{amount:""}});(0,i.bv)((()=>{o.loadData()}));const o={async loadData(){if(l.page=1,l.tableLoading=!0,"tokens"==l.radioValue)(0,yt.as)(s.state.wallet_address).then((t=>{l.tableLoading=!1,0==t.code?l.data=t.data:(l.tableLoading=!1,zt.Z["error"]({message:"Error",description:t.msg}))}));else if("transfers"==l.radioValue)(0,yt.mB)("",l.radioValue,l.page,s.state.wallet_address).then((t=>{l.tableLoading=!1,0==t.code?l.data1=t.data.list:(l.tableLoading=!1,zt.Z["error"]({message:"Error",description:t.msg}))}));else try{if(s.state.feeContract){const t=s.state.wallet_address,e=await s.state.feeContract.methods.getInfo(t).call(),a=e[1],i=e[0],o=e[2],r=e[3],n=e[4],d=e[5],c=e[6];l.data2=[{totalStake:i,totalReward:a,claimed:r,claimable:n,unlockTime:d,amount:o,canUnlock:c,unStakeloading:!1}]}}catch(t){}},async onStakeSubmit(){a.value.validate().then((async()=>{try{if(!s.state.web3)return void s.dispatch("showWalletModal",!0);const t=s.state.wallet_address;if(!Ct.Z.gt(l.stakeState.amount.trim(),"0"))return void window.notification["error"]({message:"Error",description:"Amount must be greater than 0"});if(Ct.Z.gt(l.stakeState.amount.trim(),l.itemData.quantity))return void window.notification["error"]({message:"Error",description:"Insufficient balance."});l.stakeLoading=!0,await s.state.feeContract.methods.deposit(parseInt(l.stakeState.amount.trim())).send({from:t,gasPrice:await(0,yt.k3)()}),l.stakeLoading=!1,o.handleStakeCancel(),o.loadData()}catch(t){l.stakeLoading=!1,window.notification["error"]({message:"Error",description:JSON.stringify(t)})}}))},async onClaim(t){try{if(!s.state.web3)return void s.dispatch("showWalletModal",!0);const e=s.state.wallet_address;t.loading=!0,await s.state.feeContract.methods.claimReward().send({from:e,gasPrice:await(0,yt.k3)()}),t.loading=!1,o.loadData()}catch(e){t.loading=!1,window.notification["error"]({message:"Error",description:JSON.stringify(e)})}},async onUnStake(t){try{if(!s.state.web3)return void s.dispatch("showWalletModal",!0);const e=s.state.wallet_address;t.unStakeloading=!0;const a=await s.state.feeContract.methods.getInfo(e).call(),i=a[2],l=a[6];if(!l)return t.unStakeloading=!1,void window.notification["error"]({message:"Error",description:"It’s not time to unlock yet"});await s.state.feeContract.methods.withdraw(i).send({from:e,gasPrice:await(0,yt.k3)()}),t.unStakeloading=!1,o.loadData()}catch(e){t.unStakeloading=!1,window.notification["error"]({message:"Error",description:JSON.stringify(e)})}},async onStake(t){s.state.web3?(l.stakeOpen=!0,(0,yt.Gb)("OORT",s.state.wallet_address).then((t=>{0==t.code&&(l.itemData=t.data)}))):s.dispatch("showWalletModal",!0)},formatter(t){return Ct.Z.formatter(t)},divPow(t){return Ct.Z.divPow(t,18,4)},onRefresh(){o.loadData()},showTransferModal(t){l.itemData=t,l.transferOpen=!0},transferMax(){l.transferState.amount=""+l.itemData.quantity},stakeMax(){l.stakeState.amount=""+l.itemData.quantity},listMax(){l.listState.amount=""+l.itemData.quantity},fillFloor(){l.listState.price=l.floorPrice},handleTransferCancel(){l.itemData={},l.transferOpen=!1,t.value.resetFields()},handleStakeCancel(){l.itemData={},l.stakeOpen=!1,a.value.resetFields()},onTransferSubmit(){t.value.validate().then((async()=>{if(!s.state.web3)return void s.dispatch("showWalletModal",!0);if(!Ct.Z.gt(l.transferState.amount.trim(),"0"))return void window.notification["error"]({message:"Error",description:"Amount must be greater than 0"});if(Ct.Z.gt(l.transferState.amount.trim(),l.itemData.quantity))return void window.notification["error"]({message:"Error",description:"Insufficient balance."});if(!s.state.web3.utils.isAddress(l.transferState.to.trim()))return void window.notification["error"]({message:"Error",description:"Address error."});l.transferLoading=!0;let e=Ct.Z.stringToHex('{"p":"script","op":"transfer","tick":"'+l.itemData.name.trim()+'","amt":"'+l.transferState.amount.trim()+'","to":"'+l.transferState.to.trim()+'"}');s.state.provider.request({method:"eth_sendTransaction",params:[{from:s.state.wallet_address,to:s.state.toAddress,data:e,gasPrice:await(0,yt.k3)()}]}).then((e=>{window.notification["success"]({message:"Success",description:""}),l.transferOpen=!1,l.transferLoading=!1,t.value.resetFields()})).catch((t=>{l.transferLoading=!1}))})).catch((t=>{l.transferLoading=!1,window.notification["error"]({message:"Error",description:JSON.stringify(t)})}))},showListModal(t){l.itemData=t,l.listOpen=!0,(0,yt.gv)(t.name).then((t=>{0==t.code&&(l.floorPrice=Ct.Z.divPow(t.data,18,4))}))},handleChange(t){console.log(`selected ${t}`)},handleListCancel(){l.itemData={},l.listOpen=!1,l.listLoading=!1,e.value.resetFields()},async onListSubmit(){e.value.validate().then((async()=>{if(!s.state.web3)return void s.dispatch("showWalletModal",!0);if(l.listLoading=!0,!Ct.Z.gt(l.listState.amount.trim(),"0"))return l.listLoading=!1,void window.notification["error"]({message:"Error",description:"Amount must be greater than 0"});let t=await s.state.readContract.methods.balanceOf(l.itemData.name.trim(),s.state.wallet_address).call();if(Ct.Z.gt(l.listState.amount.trim(),t))return l.listLoading=!1,void window.notification["error"]({message:"Error",description:"Insufficient balance"});let a=Ct.Z.timesPow(l.listState.price,18,0),i=Ct.Z.stringToHex('{"p":"script","op":"ordersell","tick":"'+l.itemData.name.trim()+'","amt":"'+l.listState.amount.trim()+'","price":"'+a+'"}');s.state.provider.request({method:"eth_sendTransaction",params:[{from:s.state.wallet_address,to:s.state.toAddress,data:i,gasPrice:await(0,yt.k3)()}]}).then((t=>{window.notification["success"]({message:"Success",description:""}),l.listOpen=!1,l.listLoading=!1,e.value.resetFields()})).catch((t=>{l.listLoading=!1,window.notification["error"]({message:"Error",description:""+JSON.stringify(t)})}))})).catch((t=>{l.listLoading=!1,window.notification["error"]({message:"Error",description:""+JSON.stringify(t)})}))}};return{transferRef:t,listRef:e,stakeRef:a,...(0,xt.BK)(l),...o}}}),Ot=a(89);const Dt=(0,Ot.Z)(Wt,[["render",vt]]);var Ut=Dt},781:function(t,e,a){t.exports=a.p+"img/result.72dbc80c.svg"}}]);